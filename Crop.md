# Crop

<!-- ![图片](assets/图片-20250901115651-dumot4y.png) -->

## 输入参数参数

入库时间      入库水分     入库杂质   入库数量

出库时间      出库水分     出库杂质   出库数量

## 计算

### 自然损耗量

保管时间  = 出库时间 - 入库时间 （只保留整数月，向上取整 1.1月算两个月）

损耗率 =

```shell
{
  "loss_rate_config": {
    "玉米": [
      {
        "max_value": 6,
        "rate": 0.001
      },
      {
        "max_value": 12,
        "rate": 0.0015
      },
      {
        "max_value": null,
        "rate": 0.002
      }
    ]，
	"大豆": [
      {
        "max_value": 5,
        "rate": 0.001
      },
      {
        "max_value": 11,
        "rate": 0.0015
      },
      {
        "max_value": null,
        "rate": 0.003
      }
    ]
  }
}
```

自然损耗量 = 损耗率 * 入库数量

### 水分减量

入库水分 < 出库水分

水分减量 = 0

入库水分 >= 出库水分

水分减少百分比 = 入库水分 - 出库水分

干基系数 = 1 - 出库水分

水分减量 = 入库数量 * 水分减少百分比 / 干基系数

### 杂质减量

纯净物系数 = 1 - 出库杂质

杂质减少 = 入库杂质 - 出库杂质

杂质减量 = 入库数量 * 杂质减少 / 纯净物系数

### 合计

合计 = 自然损耗量 + 水分减量 + 杂质减量 

### 实际存储损耗

实际存储损耗 = 入库数量 - 出库数量

### 实际存储损耗率

实际存储损耗率 = 实际存储损耗 / 入库数量

### 超耗数量

超耗数量 = 实际存储损耗 - 合计

‍

‍

‍
